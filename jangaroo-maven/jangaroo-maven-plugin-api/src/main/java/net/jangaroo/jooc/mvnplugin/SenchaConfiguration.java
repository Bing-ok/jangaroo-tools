package net.jangaroo.jooc.mvnplugin;

import org.apache.maven.plugins.annotations.Parameter;

@SuppressWarnings("FieldCanBeLocal")
public class SenchaConfiguration extends SenchaProfileConfiguration {

  public enum Type {
    CODE,
    THEME,
    APP,
    WORKSPACE
  }

  /**
   * Set this to <code>true</code> to generate sencha files (workspace, package, app).
   */
  @Parameter(defaultValue = "true")
  private boolean enabled = true;

  /**
   * Adjust the sencha type generated by the plugin.
   */
  @Parameter(defaultValue = "CODE")
  private Type type = Type.CODE;

  /**
   * Defines if the module will be generated using an temporary workspace. The workspace will be deleted after build.
   * TODO is this really necessary?
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "false")
  private boolean temporaryWorkspace = false;

  /**
   * The toolkit to use
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "classic")
  private String toolkit = "classic";

  /**
   * Used for {@link Type#APP} and {@link Type#CODE} to define the theme packages to use.
   * For {@link Type#THEME} it defines the theme package to the theme extends.
   *
   * Ignored for {@link Type#WORKSPACE}
   *
   * When a ":" is found in the provided {@link String} it is assumed that a  maven dependency is used as theme and
   * converted properly.
   */
  @Parameter(defaultValue = "")
  private String theme = "";

  /**
   * The sass namespace to use
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "Ext")
  private String sassNamespace = "Ext";

  /**
   * Production only configuration
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "${production}")
  private SenchaProfileConfiguration production;

  /**
   * Testing only configuration.
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "${testing}")
  private SenchaProfileConfiguration testing;

  /**
   * Development only configuration
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "${development}")
  private SenchaProfileConfiguration development;

  /**
   * For {@link Type#WORKSPACE} defined the Ext Framework directory for the module.
   *
   * Ignored for {@link Type#APP}, {@link Type#CODE} and {@link Type#THEME}
   */
  @Parameter(defaultValue = "${project.build.directory}/ext")
  private String extFrameworkDir = "target/ext";

  /**
   * Build directory relative to baseDir
   */
  @Parameter(defaultValue = "${project.build.directory}/sencha/build", readonly = true)
  private String buildDir = "target/sencha/build";

  /**
   * Packages directory relative to baseDir
   */
  @Parameter(defaultValue = "${project.build.directory}/sencha/packages", readonly = true)
  private String packagesDir = "target/sencha/packages";

  /**
   * Skip the build process of the sencha module.
   *
   * Only use this for local development to speed up the build process of the maven app.
   * For deployment the build process is required otherwise remote packages will have no contents.
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "false")
  private boolean skipBuild;

  /**
   * For {@link Type#APP}, {@link Type#CODE} and {@link Type#THEME} specifies if scss paths should map to the maven
   * projects base sencha folder instead of to the generated module.
   *
   * Included paths:
   * - sass.etc
   * - sass.var
   * - sass.src
   *
   * When performaing packaging these paths will be removed temporarily as packages modules may not contain relative
   * paths outside the generated module folder.
   *
   * Ignored for {@link Type#WORKSPACE}
   */
  @Parameter(defaultValue = "false")
  private boolean scssFromSrc;

  public boolean isEnabled() {
    return enabled;
  }

  public Type getType() {
    return type;
  }

  public boolean isTemporaryWorkspace() {
    return temporaryWorkspace;
  }

  public String getToolkit() {
    return toolkit;
  }

  public String getTheme() {
    return theme;
  }

  public String getSassNamespace() {
    return sassNamespace;
  }

  public SenchaProfileConfiguration getProduction() {
    return production;
  }

  public SenchaProfileConfiguration getDevelopment() {
    return development;
  }

  public SenchaProfileConfiguration getTesting() {
    return testing;
  }

  public String getExtFrameworkDir() {
    return extFrameworkDir;
  }

  public String getBuildDir() {
    return buildDir;
  }

  public String getPackagesDir() {
    return packagesDir;
  }

  public boolean isSkipBuild() {
    return skipBuild;
  }

  public boolean isScssFromSrc() {
    return scssFromSrc;
  }

  public void setEnabled(boolean enabled) {
    this.enabled = enabled;
  }

  public void setType(Type type) {
    this.type = type;
  }

  public void setTemporaryWorkspace(boolean temporaryWorkspace) {
    this.temporaryWorkspace = temporaryWorkspace;
  }

  public void setToolkit(String toolkit) {
    this.toolkit = toolkit;
  }

  public void setTheme(String theme) {
    this.theme = theme;
  }

  public void setSassNamespace(String sassNamespace) {
    this.sassNamespace = sassNamespace;
  }

  public void setProduction(SenchaProfileConfiguration production) {
    this.production = production;
  }

  public void setDevelopment(SenchaProfileConfiguration development) {
    this.development = development;
  }

  public void setTesting(SenchaProfileConfiguration testing) {
    this.testing = testing;
  }

  public void setExtFrameworkDir(String extFrameworkDir) {
    this.extFrameworkDir = extFrameworkDir;
  }

  public void setBuildDir(String buildDir) {
    this.buildDir = buildDir;
  }

  public void setPackagesDir(String packagesDir) {
    this.packagesDir = packagesDir;
  }

  public void setSkipBuild(boolean skipBuild) {
    this.skipBuild = skipBuild;
  }

  public void setScssFromSrc(boolean scssFromSrc) {
    this.scssFromSrc = scssFromSrc;
  }
}
